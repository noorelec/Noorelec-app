<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Debug</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #000;
            color: #0f0;
        }
        .error { color: #f00; font-weight: bold; }
        .success { color: #0f0; font-weight: bold; }
        .test { margin: 10px 0; padding: 10px; background: #111; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>üîç DEBUG NOORELEC</h1>
    <div id="results"></div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="auth.js"></script>
    <script>
        const results = document.getElementById('results');
        
        function log(msg, isError = false) {
            const div = document.createElement('div');
            div.className = 'test ' + (isError ? 'error' : 'success');
            div.textContent = msg;
            results.appendChild(div);
        }

        // Test 1
        if (typeof window.supabase !== 'undefined') {
            log('‚úÖ Supabase SDK charg√©');
        } else {
            log('‚ùå Supabase SDK NON charg√©', true);
        }

        // Test 2
        if (typeof supabase !== 'undefined') {
            log('‚úÖ Variable supabase existe');
        } else {
            log('‚ùå Variable supabase NON d√©finie', true);
        }

        // Test 3
        if (typeof switchTab !== 'undefined') {
            log('‚úÖ Fonction switchTab existe');
        } else {
            log('‚ùå Fonction switchTab NON d√©finie', true);
        }

        // Test 4
        if (typeof handleLogin !== 'undefined') {
            log('‚úÖ Fonction handleLogin existe');
        } else {
            log('‚ùå Fonction handleLogin NON d√©finie', true);
        }

        // Test 5
        if (typeof handleSignup !== 'undefined') {
            log('‚úÖ Fonction handleSignup existe');
        } else {
            log('‚ùå Fonction handleSignup NON d√©finie', true);
        }

        // Test 6 - Event listeners
        window.addEventListener('DOMContentLoaded', function() {
            const tabLogin = document.getElementById('tab-login-test');
            if (tabLogin) {
                log('‚úÖ Peut trouver des √©l√©ments DOM');
            } else {
                log('‚ö†Ô∏è Elements DOM non trouv√©s (normal sur cette page)');
            }
        });

        // Capturer les erreurs
        window.onerror = function(msg, url, line) {
            log(`‚ùå ERREUR: ${msg} (ligne ${line})`, true);
        };
        
        log('üìä Tests termin√©s !');
    </script>
</body>
</html>
